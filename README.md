# Napcat登录插件

这是一个基于YunzaiBot的插件，用于用户绑定QQ号实现Napcat的登录和关闭。

## 🎮 使用方法

> **🔒 注意：** 所有命令仅限机器人主人使用

### 基础命令

| 命令 | 描述 |
|------|------|
| `#napcat测试` | 测试 SSH 连接是否正常 |
| `#napcat帮助` | 显示帮助信息 |

### 状态管理

| 命令 | 描述 |
|------|------|
| `#napcat状态` | 查看所有 Napcat 实例状态 |
| `#napcat状态 123456789` | 查看指定 QQ 号的 Napcat 状态 |

### 启动与停止

| 命令 | 描述 |
|------|------|
| `#napcat启动 123456789` | 启动指定 QQ 号的 Napcat |
| `#napcat停止 123456789` | 停止指定 QQ 号的 Napcat |
| `#napcat停止` | 停止所有 Napcat 实例 |
| `#napcat重启 123456789` | 重启指定 QQ 号的 Napcat |

### 日志查看

| 命令 | 描述 |
|------|------|
| `#napcat日志 123456789` | 查看指定 QQ 号的 Napcat 日志（收集 60 秒后发送） |

### 更新

| 命令 | 描述 |
|------|------|
| `#napcat更新` | 更新 Napcat 程序 |

## ⚠️ 注意事项

1. **环境限制**
   - 本插件仅支持 Linux 本地部署的 Napcat
   - 不支持 Docker 或其他容器环境
   - 需要确保 SSH 用户有执行 Napcat 命令的权限

2. **权限控制**
   - 所有命令仅限机器人主人使用
   - 非主人用户将收到拒绝消息

3. **SSH 连接**
   - 确保 SSH 服务器允许密码认证或密钥认证
   - 防火墙需开放相应端口
   - 建议使用密钥认证以提高安全性

4. **日志查看**
   - 日志查看功能会收集 60 秒的日志后一次性发送
   - 日志以聊天记录形式展示，便于阅读
   - 日志中的 ANSI 颜色代码会被自动移除

5. **资源占用**
   - 日志功能会占用一定的网络资源
   - 长时间使用可能会影响机器人性能

## 🔍 故障排除

| 问题 | 解决方案 |
|------|----------|
| SSH 连接失败 | 检查 SSH 配置信息是否正确<br>确认服务器 SSH 服务是否正常运行<br>检查防火墙设置 |
| 命令执行失败 | 确认服务器上已安装 Napcat<br>检查 SSH 用户是否有执行 Napcat 命令的权限 |
| 日志显示问题 | 如果日志显示不完整，可能是因为日志量太大<br>尝试使用 `#napcat状态` 命令先检查状态 |

## 📝 更新日志

### v1.0.0 (2023-10-01)
- 初始版本发布
- 支持基本的 Napcat 管理功能
- 实现日志查看功能

## 🛣️ 开发计划

- [ ] 添加更多日志过滤选项
- [ ] 支持自定义日志查看时间
- [ ] 添加定时任务功能
- [ ] 优化日志显示格式
- [ ] 添加多服务器支持

## 📜 许可证

[MIT License](LICENSE) © 2023 Your Name 